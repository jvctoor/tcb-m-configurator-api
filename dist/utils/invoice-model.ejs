<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice TCB-M Configurator</title>

    <!-- <script src="https://cdn.tailwindcss.com"></script> -->

    <style>
        table {
          font-family: arial, sans-serif;
          border-collapse: collapse;
          width: 100%;
          margin-bottom: 50px;
        }
        
        td, th {
          border: 1px solid #dddddd;
          text-align: left;
          padding: 8px;
        }
        
        tr:nth-child(even) {
          background-color: #dddddd;
        }
    </style>

</head>

<body style="font-family: Arial, Helvetica, sans-serif;">
    <div>
        <h1>Seu pedido</h1>
        <p>Nome: <%= pedido.nome %></p>
        <p>Empresa: <%= pedido.empresa %></p>
        <p>Telefone: <%= pedido.telefone %></p>
        <p>Email: <%= pedido.email %></p>
    </div>
    <hr style="border: .2px solid rgb(240, 240, 240); margin: 30px 0;">
    <% if (pedido.observacoes) { %>
    <h4>Observações</h4>
    <p><%=pedido.observacoes%></p>
    <hr style="border: .2px solid rgb(240, 240, 240); margin: 30px 0;">
    <% } %>
    <div>
        <% if (pedido.interfaces.length> 0) { %>
            <% pedido.interfaces.forEach((interface, indice)=> { %>
                <h2> Interface <%= indice+1 %> </h2>
                <p>Quantidade: <%= interface.quantidade %>
                <p>Valor: R$<%= interface.valor %>
                <p>Ambientes: <%= interface.ambientes.map(ambiente => ambiente.ambiente).join(', ') %></p>
                <h4>Itens</h4>
                    <table>
                        <tr>
                          <th>Descrição</th>
                          <th>Preço</th>
                        </tr>
                        <% if (interface.itens.length> 0) { %>
                            <% interface.itens.forEach((item, indice)=> { %>
                            <tr>
                                <td><%= item.descricao %></td>
                                <td>R$<%= item.preco %></td>
                             </tr>
                            <% }); %> 
                        <% } %>
                      </table>
                <hr style="border: .2px solid rgb(240, 240, 240); margin: 10px 0;">
            <% }); %> 
        <% } %>

        <h4>Cabos</h4>
        <table>
            <tr>
                <th>Nome</th>
                <th>Quantidade</th>
                <th>Preço</th>
            </tr>
            <% if (pedido.cabos.length > 0) { %>
                <% pedido.cabos.forEach((item, indice)=> { %>
                    <tr>
                        <td><%= item.nome %></td>
                        <td><%= item.quantidade %></td>
                        <td>R$<%= item.preco %></td>
                    </tr>
                <% }); %> 
            <% } %>
        </table>
        
    </div>
</body>

</html>