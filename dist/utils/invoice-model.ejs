<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice TCB-M Configurator</title>

    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            font-size: 14px;
        }

        h1 {
            font-size: 20px !important;
            color: #4169E1;
        }


        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 50px;
        }

        td,
        th {
            border: 1px solid #eaf0f3;
            text-align: left;
            padding: 8px;
        }

        tr:nth-child(even) {
            background-color: #eaf0f3;
        }

        .flex-container {
            display: flex;
            flex-wrap: nowrap;
            justify-content: space-between;
        }

        .list p {
            margin-top: -5px;
        }

        .imagem_tabela {
            object-fit: contain;
            /* Por exemplo, para uma proporção de aspecto de 16:9 */
            width: 100px;
            /* Ou qualquer outra largura desejada */
            height: 30px;
            /* Garante que a altura se ajuste automaticamente mantendo a proporção de aspecto */
        }

        @media print {
            .page-break {
                page-break-before: always;
            }
        }
    </style>


</head>

<body>
    <div class="flex-container">
        <div class="list">
            <h1>Pedido <%= pedido.idPedido %>
            </h1>
            <p>Nome: <%= pedido.nome %>
            </p>
            <p>Empresa: <%= pedido.empresa %>
            </p>
            <p>Telefone: <%= pedido.telefone %>
            </p>
            <p>Email: <%= pedido.email %>
            </p>

            <p>Emitido em: <%= new Date(pedido.createdAt).toLocaleDateString('pt-BR') %>
            </p>
        </div>
        <div>
            <img src="https://storage.googleapis.com/flutterflow-io-6f20.appspot.com/projects/tcb-m-hx3hbs/assets/zihf9nqcyi1q/Logo_Absolute.png"
                width="250" height="80">
        </div>
    </div>
    <hr style="border: .2px solid rgb(240, 240, 240); margin: 20px 0;">
    <% if (pedido.observacoes) { %>
        <h1>Observações</h1>
        <p>
            <%=pedido.observacoes%>
        </p>
        <hr style="border: .2px solid rgb(240, 240, 240); margin: 20px 0;">
        <% } %>
            <div class="list">
                <% if (pedido.interfaces.length> 0) { %>
                    <% pedido.interfaces.forEach((interface, indice)=> { %>
                        <h1> Interface <%= indice+1 %>
                        </h1>
                        <p>Quantidade: <%= interface.quantidade %>
                                <p>Valor: R$<%= interface.valor %>
                                        <p>Ambientes: <%= interface.ambientes.map(ambiente=>
                                                ambiente.ambiente).join(',') %></p>
                                        <h4>Itens</h4>
                                        <table>
                                            <tr>
                                                <th>Imagem</th>
                                                <th>Código</th>
                                                <th>Descrição</th>
                                                <th>Quantidade</th>
                                                <th>Preço</th>
                                                <th>Valor total</th>
                                            </tr>
                                            <% if (interface.itens.length> 0) { %>
                                                <% interface.itens.forEach((item, indice)=> { %>
                                                    <tr>
                                                        <td>
                                                            <img class="imagem_tabela" src="<%= item.imagem %>"
                                                                width="200" height="100">
                                                        </td>
                                                        <td>
                                                            <%= item.cod %>
                                                        </td>
                                                        <td>
                                                            <%= item.descricao %>
                                                        </td>
                                                        <td>
                                                            <%= interface.quantidade %>
                                                        </td>
                                                        <td>R$<%= item.preco %>
                                                        </td>
                                                        <td>
                                                            R$<%= item.preco * interface.quantidade %>
                                                        </td>
                                                    </tr>
                                                    <% }); %>
                                                        <% } %>
                                        </table>
                                        <div class="page-break"></div>
                                        <% }); %>
                                            <% } %>
                                            <!-- <div class="page-break"></div> -->
                                                <h1>Cabos</h1>
                                                <table>
                                                    <tr>
                                                        <th>Nome</th>
                                                        <th>Quantidade</th>
                                                        <th>Preço</th>
                                                    </tr>
                                                    <% if (pedido.cabos.length> 0) { %>
                                                        <% pedido.cabos.forEach((item, indice)=> { %>
                                                            <tr>
                                                                <td>
                                                                    <%= item.nome %>
                                                                </td>
                                                                <td>
                                                                    <%= item.quantidade %>
                                                                </td>
                                                                <td>R$<%= item.preco %>
                                                                </td>
                                                            </tr>
                                                            <% }); %>
                                                                <% } %>
                                                </table>

            </div>


</body>

</html>